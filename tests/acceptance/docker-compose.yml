version: '2'

services:
  app:
    extends:
      file: ../../docker-compose.yml
      service: app
    expose:
      - '3000'
    volumes:
      - ./screenshots:/usr/src/app/tests/acceptance/screenshots

  selenium:
    image: selenium/standalone-chrome
    expose:
      - '4444'
    links:
      - app

  tests:
    extends:
      service: app
    links:
      - selenium
    command: npm run _test:acceptance
